let burgerMenu=document.querySelector(".menu-burger"),menuOverlay=document.querySelector(".header-menu__nav");burgerMenu.addEventListener("click",(function(){this.classList.toggle("open-menu"),menuOverlay.classList.toggle("active-menu"),document.body.classList.toggle("fixed-page")}));let tl=gsap.timeline();tl.to(".header-menu__cake",{scale:1,duration:.8}).to(".svg-1",{scale:1,duration:.8}).to(".svg-2",{scale:1,duration:.8}),ScrollTrigger.matchMedia({"(min-width: 1500px)":function(){gsap.timeline().from(".header-title-1",{scrollTrigger:{trigger:"header",start:"start start",end:"250px",scrub:!0},opacity:0,xPercent:-50}).from(".header-title-3",{scrollTrigger:{trigger:"header",start:"55% 30%",end:"600px",scrub:!0},opacity:0,xPercent:-50}).from(".header-title-2",{scrollTrigger:{trigger:"header",start:"70% 40%",end:"700px",scrub:!0},opacity:0,yPercent:-50})}}),gsap.from(".cookies img",{opacity:0,yPercent:80,duration:.6,stagger:.2},"+=0.5");const swiper=new Swiper("#big-slider",{navigation:{prevEl:".bigswiper-button-prev",nextEl:".bigswiper-button-next",enabled:!0},pagination:{el:".big-pagination",clickable:!0},slidesPerView:1,loop:!0}),swiperMenu=new Swiper("#menu-slider",{navigation:{prevEl:"",nextEl:"",enabled:!0},slidesPerView:2,spaceBetween:15,breakpoints:{700:{slidesPerView:3,slidesPerGroup:3},1024:{enabled:!1,slidesPerView:5,spaceBetween:32}}});let newSliderNav=new Swiper("#slider-nav",{slidesPerView:3,spaceBetween:20,direction:"horizontal",breakpoints:{1024:{direction:"vertical"}}}),newSliderMain=new Swiper("#slider-main",{slidesPerView:1,thumbs:{swiper:newSliderNav},breakpoints:{1024:{direction:"vertical"}}}),tabButtons=document.querySelectorAll(".tabs__btn"),tabItems=document.querySelectorAll(".tabs__item");tabButtons.forEach((e=>{e.addEventListener("click",(t=>{const r=t.target.getAttribute("data-tab");tabButtons.forEach((e=>{e.classList.remove("active-tab-btn")})),tabItems.forEach((e=>{e.classList.add("tab__item--hidden")})),e.classList.add("active-tab-btn"),document.getElementById(r).classList.remove("tab__item--hidden")}))})),document.querySelector('[data-tab="tab1"]').classList.add("active-tab-btn"),document.getElementById("tab1").classList.remove("tab__item--hidden");let drinkList=document.querySelectorAll(".calc__radio-button"),optionList=document.querySelectorAll(".calc__check-button"),range=document.querySelector("#range"),rangeValue=document.querySelector("#range-value"),total=document.querySelector("#total");function drinkUpdate(e){currentPrice.drink=e.target.id,totalPriceUpdate()}function rangeUpdate(){+range.value>=10&&+range.value<15?rangeValue.value=this.value+"🙂":+range.value>=15?rangeValue.value=this.value+"😁":rangeValue.value=this.value,currentPrice.range=this.value,totalPriceUpdate()}function optionUpdate(e){if(e.target.checked)currentPrice.option.push(e.target.id);else{let t=currentPrice.option.indexOf(e.target.id);currentPrice.option.splice(t,1)}totalPriceUpdate()}drinkList.forEach((e=>{e.addEventListener("click",drinkUpdate)})),range.addEventListener("input",rangeUpdate),optionList.forEach((e=>{e.addEventListener("click",optionUpdate)}));const globalPrice={drink:{cappuccino:180,raf:230,black:300,irish:320},option:{music:6e3,delivery:4e3}};let currentPrice={drink:"cappuccino",range:4,option:[],getDrinkPrice(){return globalPrice.drink[this.drink]},getOptionPrice(){let e=0;return currentPrice.option.length>0&&currentPrice.option.forEach((t=>{e+=globalPrice.option[t]})),e}};function totalPriceUpdate(){let e=currentPrice.getDrinkPrice(),t=currentPrice.getOptionPrice();total.value=currentPrice.range*e+t}function validation(e){let t=!0;return document.querySelectorAll(".form__input").forEach((e=>{!function(e){let t=e.closest(".form__group");e.classList.contains("error")&&(t.querySelector(".error-label").remove(),e.classList.remove("error"))}(e),""==e.value&&(!function(e,t){let r=e.closest(".form__group"),n=document.createElement("p");e.classList.add("error"),n.classList.add("error-label"),n.textContent=t,r.append(n)}(e,"Поле не заполнено!"),t=!1)})),t}totalPriceUpdate(),document.getElementById("form").addEventListener("submit",(function(e){e.preventDefault(),1==validation(this)&&alert("Форма проверена успешно!")}));let formPhone=document.querySelector("#input-3"),im=new Inputmask("+7 (999) 999-99-99",{showMaskOnHover:!1});im.mask(formPhone);let center1=[48.711899032755625,44.52867520992572],center2=[48.71404837260602,44.52314968623036],center3=[48.710824939606304,44.51458807505484];function init(){const e=[new ymaps.Map("tab1",{center:center1,zoom:16,controls:[]}),new ymaps.Map("tab2",{center:center2,zoom:16,controls:[]}),new ymaps.Map("tab3",{center:center3,zoom:16,controls:[]})],t=[center1,center2,center3];e.forEach(((e,r)=>{let n=new ymaps.Placemark(t[r],{},{iconLayout:"default#image",iconImageHref:"../img/menuSliders/map-icon/mapMark.svg",iconImageSize:[40,45]});e.geoObjects.add(n)}));const r=new ResizeObserver((t=>e.forEach((e=>e.container.fitToViewport()))));tabItems.forEach((e=>r.observe(e)))}ymaps.ready(init);